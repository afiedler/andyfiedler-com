<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="description" content="Andy Fiedler&#x27;s Personal Site"/><title>Abstract Classes with Static Methods in ES2015</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/3a91f8daa0490311.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3a91f8daa0490311.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-0d72f87c7081bf6b.js" defer=""></script><script src="/_next/static/chunks/main-c1f318e46964e3b2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a8fa0b8d60e9233f.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-5774d63731fac027.js" defer=""></script><script src="/_next/static/vPhthCAbGqbPT7mTS8USv/_buildManifest.js" defer=""></script><script src="/_next/static/vPhthCAbGqbPT7mTS8USv/_ssgManifest.js" defer=""></script><script src="/_next/static/vPhthCAbGqbPT7mTS8USv/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div id="main"><div class="max-w-screen-md mx-auto px-4"><div class="flex items-center justify-between py-6 lg:py-10"><a href="/" class="flex items-center"><p class="font-body font-bold text-2xl text-primary dark:text-white">Andy Fiedler</p></a><div class="flex items-center lg:hidden"><svg width="24" height="15" xmlns="http://www.w3.org/2000/svg" class="fill-current text-primary dark:text-white"><g fill-rule="evenodd"><rect width="24" height="3" rx="1.5"></rect><rect x="8" y="6" width="16" height="3" rx="1.5"></rect><rect x="4" y="12" width="20" height="3" rx="1.5"></rect></g></svg></div><div class="hidden lg:block"><ul class="flex items-center"><li class="mr-6 relative group mb-1"><div class="absolute left-0 bottom-0 w-full transition-all h-0 group-hover:h-2 group-hover:bg-yellow opacity-75 z-20"></div><a href="/posts" class="font-body font-medium text-lg text-primary dark:text-white group-hover:text-green dark:group-hover:text-secondary px-2 z-30 block relative transition-colors">Posts</a></li><li><i class="bx text-3xl text-primary dark:text-white cursor-pointer"></i></li></ul></div><div class="bg-black bg-opacity-80 fixed inset-0 z-20 flex opacity-0 pointer-events-none transition-opacity lg:hidden "><div class="ml-auto bg-blue-600 w-2/3 md:w-1/3 p-4"><svg viewBox="0 0 20 20" width="24" height="24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-white absolute top-0 right-0 mt-4 mr-4"><path d="M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z"></path></svg><i class="absolute top-0 right-0 mt-4 mr-4"></i><ul class="flex flex-col mt-8"><li class=""><a href="/posts" class="font-body font-medium text-lg text-white px-2 block mb-3">Posts</a></li></ul></div></div></div></div><div class="max-w-screen-md mx-auto px-4"><div class="pt-16 lg:pt-20"><div class="border-b border-grey-lighter pb-8 sm:pb-12"><h2 class="font-body font-semibold text-primary dark:text-white text-3xl sm:text-4xl md:text-5xl block leading-tight">Abstract Classes with Static Methods in ES2015</h2><div class="flex items-center pt-5 sm:pt-8"><p class="font-body font-light text-primary dark:text-white pr-2">2016-01-19 14:42:17 -0500</p></div></div><article class="border-b border-grey-lighter py-8 sm:py-12 prose prose dark:prose-dark max-w-none"><p>ES2105 classes have much better support for static method patterns than traditional ways of doing it in ES5.</p>
<p>In ES2015, there are actually two prototype chains in classes: one for instance methods and one for static methods. This means you can use <code>super</code> and <code>this</code> in a static method, and it works as expected.</p>
<p>This makes using an abstract class pattern much easier. Here's an example:</p>
<div><pre><code><span>'use strict'</span><span>;</span>

<span>class</span> <span>AbstractShape</span> <span>{</span>
  <span>static</span> <span>get</span> <span>SHAPE_NAME</span><span>(</span><span>)</span> <span>{</span>
    <span>throw</span> <span>new</span> <span>Error</span><span>(</span>
      <span>'must specify a SHAPE_NAME in your subclass of '</span> <span>+</span>
      <span>'AbstractShape'</span>
    <span>)</span><span>;</span>
  <span>}</span>

  <span>static</span> <span>get</span> <span>englishName</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>this</span><span>.</span><span>SHAPE_NAME</span><span>[</span><span>'en-US'</span><span>]</span><span>;</span>
  <span>}</span>

  <span>static</span> <span>get</span> <span>spanishName</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>this</span><span>.</span><span>SHAPE_NAME</span><span>[</span><span>'en-MX'</span><span>]</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>class</span> <span>Square</span> <span>extends</span> <span>AbstractShape</span> <span>{</span>
  <span>static</span> <span>get</span> <span>SHAPE_NAME</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>{</span>
      <span>'en-US'</span><span>:</span> <span>'square'</span><span>,</span>
      <span>'es-MX'</span><span>:</span> <span>'cuadrado'</span>
    <span>}</span>
  <span>}</span>
<span>}</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>Square</span><span>.</span><span>englishName</span><span>)</span><span>;</span> <span>// -> 'square'</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>Square</span><span>.</span><span>spanishName</span><span>)</span><span>;</span> <span>// -> 'cuadrado'</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>AbstractShape</span><span>.</span><span>englishName</span><span>)</span><span>;</span> <span>// Throws an Error</span>
</code></pre></div>
<p>A few things that are interesting with ES2015 static methods:</p>
<ul>
<li>You can't have static properties, but you can make static getters to get the same effect (with some syntactic noise).</li>
<li>In a static method, <code>this</code> refers to the class itself. Effectively, you can just access other static methods with <code>this</code>.</li>
<li>You cannot refer to the class itself in the class body. This is not legal:</li>
</ul>
<div><pre><code><span>static</span> <span>get</span> <span>englishName</span><span>(</span><span>)</span> <span>{</span> <span>return</span> <span>AbstractShape</span><span>.</span><span>SHAPE_NAME</span><span>[</span><span>'en-US'</span><span>]</span><span>;</span> <span>}</span>
</code></pre></div>
<p>I'm guessing is the reason for this is that classes are not hoisted in ES2015.</p>
<p>More class posts coming soon!</p>
</article></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"abstract-classes-with-static-methods-in-es2015","contentHtml":"\u003cp\u003eES2105 classes have much better support for static method patterns than traditional ways of doing it in ES5.\u003c/p\u003e\n\u003cp\u003eIn ES2015, there are actually two prototype chains in classes: one for instance methods and one for static methods. This means you can use \u003ccode\u003esuper\u003c/code\u003e and \u003ccode\u003ethis\u003c/code\u003e in a static method, and it works as expected.\u003c/p\u003e\n\u003cp\u003eThis makes using an abstract class pattern much easier. Here's an example:\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e'use strict'\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eAbstractShape\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003estatic\u003c/span\u003e \u003cspan\u003eget\u003c/span\u003e \u003cspan\u003eSHAPE_NAME\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ethrow\u003c/span\u003e \u003cspan\u003enew\u003c/span\u003e \u003cspan\u003eError\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e'must specify a SHAPE_NAME in your subclass of '\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e\n      \u003cspan\u003e'AbstractShape'\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003estatic\u003c/span\u003e \u003cspan\u003eget\u003c/span\u003e \u003cspan\u003eenglishName\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eSHAPE_NAME\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e'en-US'\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003estatic\u003c/span\u003e \u003cspan\u003eget\u003c/span\u003e \u003cspan\u003espanishName\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eSHAPE_NAME\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e'en-MX'\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eSquare\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eAbstractShape\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003estatic\u003c/span\u003e \u003cspan\u003eget\u003c/span\u003e \u003cspan\u003eSHAPE_NAME\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n      \u003cspan\u003e'en-US'\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e'square'\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n      \u003cspan\u003e'es-MX'\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e'cuadrado'\u003c/span\u003e\n    \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003econsole\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003elog\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eSquare\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eenglishName\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003e// -\u003e 'square'\u003c/span\u003e\n\u003cspan\u003econsole\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003elog\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eSquare\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003espanishName\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003e// -\u003e 'cuadrado'\u003c/span\u003e\n\u003cspan\u003econsole\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003elog\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eAbstractShape\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eenglishName\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003e// Throws an Error\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eA few things that are interesting with ES2015 static methods:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eYou can't have static properties, but you can make static getters to get the same effect (with some syntactic noise).\u003c/li\u003e\n\u003cli\u003eIn a static method, \u003ccode\u003ethis\u003c/code\u003e refers to the class itself. Effectively, you can just access other static methods with \u003ccode\u003ethis\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eYou cannot refer to the class itself in the class body. This is not legal:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003estatic\u003c/span\u003e \u003cspan\u003eget\u003c/span\u003e \u003cspan\u003eenglishName\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003eAbstractShape\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eSHAPE_NAME\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e'en-US'\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eI'm guessing is the reason for this is that classes are not hoisted in ES2015.\u003c/p\u003e\n\u003cp\u003eMore class posts coming soon!\u003c/p\u003e\n","layout":"post","status":"publish","published":true,"title":"Abstract Classes with Static Methods in ES2015","author":{"display_name":"afiedler","login":"afiedler","email":"andy@andyfiedler.com","url":""},"author_login":"afiedler","author_email":"andy@andyfiedler.com","wordpress_id":357,"wordpress_url":"http://andyfiedler.com/?p=357","date":"2016-01-19 14:42:17 -0500","date_gmt":"2016-01-19 19:42:17 -0500","categories":["Tech Notes"],"tags":["nodejs","es2015"]}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"abstract-classes-with-static-methods-in-es2015"},"buildId":"vPhthCAbGqbPT7mTS8USv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>