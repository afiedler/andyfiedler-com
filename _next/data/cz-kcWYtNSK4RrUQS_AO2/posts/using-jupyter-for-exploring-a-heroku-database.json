{"pageProps":{"postData":{"id":"using-jupyter-for-exploring-a-heroku-database","contentHtml":"<p>If you want to establish a connection to a Heroku database and import data into Jupyter for some analysis, here's some boilerplate to help:</p>\n<div><pre><code><span># Python 3</span>\n<span>from</span> sqlalchemy <span>import</span> create_engine\n<span>import</span> pandas <span>as</span> pd\n<span>import</span> subprocess\n\nDATABASE_URL <span>=</span> subprocess<span>.</span>check_output<span>(</span><span>\"heroku config:get DATABASE_URL --app &#x3C;your heroku app name here>\"</span><span>,</span> shell<span>=</span><span>True</span><span>)</span><span>.</span>decode<span>(</span><span>'utf-8'</span><span>)</span>\nengine <span>=</span> create_engine<span>(</span>DATABASE_URL<span>)</span>\n\nresult <span>=</span> pd<span>.</span>read_sql_query<span>(</span>\n    <span>'''</span>\n<span>SELECT * FROM my_table;</span>\n<span>    '''</span><span>,</span>\n    con<span>=</span>engine<span>)</span>\n</code></pre></div>\n<p>Now you have <code>result</code>, which is a Pandas DataFrame. Happy data exploration!</p>\n<p><strong>Note:</strong> It probably goes without saying this is a <strong>bad idea</strong> to do on a production system. You should use a read-only replica for running queries in production, or use a dump of the database loaded onto another server.</p>\n","layout":"post","status":"publish","published":true,"title":"Using Jupyter for Exploring a Heroku Database","author":{"display_name":"afiedler","login":"afiedler","email":"andy@andyfiedler.com","url":""},"author_login":"afiedler","author_email":"andy@andyfiedler.com","wordpress_id":370,"wordpress_url":"http://andyfiedler.com/?p=370","date":"2016-03-25 14:59:45 -0400","date_gmt":"2016-03-25 18:59:45 -0400","categories":["tech-notes"],"tags":["python","jupyter","pandas"]}},"__N_SSG":true}